<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6/jquery.min.js"></script>
<!--ここにcanvas用のスクリプト-->
<style>
body{
	width:100%;
	margin: 0;
	padding: 0;
	color: rgba(0,0,0,0.7);
cursor: none;

}
body #wrapper{
	width: 100%;
	height:100%;
	min-height:100%;
	overflow: hidden;
	position: fixed;}
#container {
	position: absolute;
	top:0;
	right:20px;
	left:20px;}
</style>
<script>
var mx,my;
var tama_y=new Array();
var tama_x=new Array();
(function() {
    window.onmousemove = handleMouseMove;
    function handleMouseMove(event) {
        event = event || window.event; // IE対応
				mx=event.clientX;
				my=event.clientY;
console.log(mx);
    }
})();
  $(function () {
	sizing();
	setInterval(Draw, 33);
Draw();
	$(window).resize(function() {
		sizing();
		Draw();
	});
});
// div#wrapperからcanvas#cnvsのサイズをもらう（#wrapperのサイズはCSSで）
function sizing(){
	$('#cnvs').attr({height:$('#wrapper').height()});
	$('#cnvs').attr({width:$('#wrapper').width()});
	init();
};
// ここからは前回（ImageData）のサンプル1と同じです。
function init(){
for(i=0;i<1000;i++){
	tama_y.push(Math.floor( Math.random() * $('#wrapper').height() ));
tama_x.push(i*2);
}

}

 //var te=;
 // var tm=Math.floor(Math.random()*255);
 var flame=0;
function Draw() {

	var ctx = document.getElementById('cnvs').getContext('2d');
	ctx.clearRect(0, 0, $('#wrapper').width(), $('#wrapper').height());

	ctx.beginPath();
	ctx.arc(mx, my, 10, 0, Math.PI*2, true);
	ctx.fill();
	for(n=0;n<1000;n++){
		ctx.beginPath();
	  ctx.arc(tama_x[n]-flame, tama_y[n], 2, 0, Math.PI*2, true);
	  ctx.fill();
		//console.log("ok");
	}
	flame++;
};
</script>
</head>
<body>
<div id="wrapper"><canvas id="cnvs"></canvas></div>
<div id="container"> <!--ここにコンテンツ--> </div>
</body>
